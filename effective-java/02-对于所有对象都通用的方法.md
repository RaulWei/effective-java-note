# 02-对于所有对象都通用的方法

---

- [第8条：覆盖equals时请遵守通用约定](#第8条覆盖equals时请遵守通用约定)
- [第10条：始终要覆盖toString](#第10条始终要覆盖tostring)


---

## 第8条：覆盖equals时请遵守通用约定

不需要覆盖`equals`的情况 
1. 不关心类是否提供了**逻辑相等**的测试功能 
2. 超类已经覆盖了`equals`，从超类继承的行为对于子类也合适 
3. 类是私有的或者包级私有的，并且你能确定它的`equals`方法永远不会被调用 - 可以重写`equals`抛出`AssertionError`以防它被意外调用

需要覆盖`equals`的情况
1. 类具有自己特有的**逻辑相等**概念，**不同于对象等同**概念
2. 超类还没有覆盖`equals`以实现期望行为

一旦违反`equals`约定，当**其他对象面对你的对象**时，你**完全不知道**这些对象的行为会如何！

## 第10条：始终要覆盖toString

`java.lang.Object`提供了`toString`方法的一个实现：`类名 + '@' + 散列码无符号16进制表示`！

指定`toString`返回值格式的优势
* 可以被用作一种标准的、明确的、适合人阅读的对象表示法

指定`toString`返回值格式的劣势
* 程序员基于该格式实现诸多工作，如果将来版本修改了格式，则会破坏大量原先的代码和数据，**灵活性差**

注意，无论是否指定格式，都为`toString`返回值中包含的所有信息提供一种**编程式的访问途径**！如果没有，则会迫使程序员编写额外代码解析字符串，既**降低性能**，又容易**解析出错导致系统不稳定**！

